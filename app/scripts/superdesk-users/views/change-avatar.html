<div class="modal-header">
    <h3 class="pull-left">{{ activity.label|translate }}</h3>
    <button type="button" class="close" ng-click="reject()"><i class="icon-close-small"></i></button>
</div>

<div class="modal-body">
    <aside class="sidebar">
        <ul>
            <li ng-class="{active: method == 'computer'}" ng-click="setMethod('computer')"><i class="avatar-icon-upload"></i><a href="" translate>Upload from Computer</a><i class="icon-chevron-right"></i></li>
            <li ng-class="{active: method == 'camera'}" ng-click="setMethod('camera')"><i class="avatar-icon-camera"></i><a href="" translate>Take a snapshot</a><i class="icon-chevron-right"></i></li>
            <li ng-class="{active: method == 'web'}" ng-click="setMethod('web')"><i class="avatar-icon-web"></i><a href="" translate>Use Web URL</a><i class="icon-chevron-right"></i></li>
        </ul>
    </aside>

    <section class="main">
        <div class="computer" ng-if="method == 'computer' && !preview.url">
            
            <div class="dropzone"
                ng-file-drop="img = $files[0]"
                sd-image-preview="preview.url"
                data-file="img">

                <div class="text" translate>Drop it here</div>
				
				<div class="input-holder">
	                <input type="file" accept="image/*;capture=camera"
		                ng-file-select="img = $files[0]"
		                sd-image-preview="preview.url"
		                data-file="img">
				</div>
            </div>
        </div>

        <div class="camera" ng-show="method == 'camera' && !preview.url">
            <label translate>Click to capture using camera. Be sure that you allow camera accessibility.</label>
            <video autoplay sd-video-capture="preview.url"></video>
        </div>

        <div class="web" ng-if="method == 'web' && !preview.url">
            <label translate>Enter web url</label>
            <input type="url" ng-model="url" ng-change="preview.url = url">
        </div>

        <div class="preview" ng-if="preview.url">
            <label translate>Make sure you're looking the best</label>
            <div class="crop-area">
                <div class="original">
                    <div sd-crop data-src="preview.url" data-cords="cords"></div>
                </div>
                <div class="preview">
                    <div class="preview-large">
                        <img ng-src="{{preview.url}}" class="preview-target-1">
                    </div>
                    <div class="preview-round">
                        <img ng-src="{{preview.url}}" class="preview-target-2">
                    </div>
                </div>
            </div>
            
        </div>
    </section>
</div>

<div class="modal-footer">
    <button type="button" class="btn submit" ng-click="upload({url: preview.url, img: img, cords: cords})">Done</button>
</div>